import numpy as np

def euler_step(f,x,t,dt):
    step = x+dt*f(x,t)
    return step

def solve_to(f,x0,t0,t1,dt_max):
    t=[t0]
    x=[x0]
    while t[-1] < t1:
        dt = min(dt_max, t1 - t[-1])
        step = euler_step(f, x[-1], t[-1], dt)
        t.append(t[-1]+dt)
        x.append(step)
    return np.array(x), np.array(t)

# Testing solve_to
x0 = 1
t0 = 0
t1 = 1
dt_max = 0.1
def func(x, t): 
    return x
ans, t = solve_to(func, x0, t0, t1, dt_max)
print(ans[-1],t[-1])
